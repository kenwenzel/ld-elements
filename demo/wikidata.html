<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Wikidata examples</title>
  <link rel="stylesheet" href="../src/index.css" />
  <script type="module" src="../src/components/ld-rdfa/ld-rdfa.ts"></script>
  <script type="module">
    import { runAutoTemplates } from '@heximal/components';
    runAutoTemplates();
  </script>

</head>

<body>
  <h-var name="lang" value="en"></h-var>
  <h-var name="limit" value="3"></h-var>

  <template h-auto>
    <p>
      Limit: <input .value="{{ limit }}" @change="{{ (e) => limit = e.target.value }}" type="number" />
    </p>
  </template>

  <!-- Renders cats described in Wikidata -->
  <ld-rdfa endpoint="https://query.wikidata.org/sparql">
    <style>
      .images {
        display: flex;
        gap: 20px;
        align-items: center;
      }

      img {
        max-width: 400px;
      }
    </style>
    <template id="cats">
      <div about="?cat" prefix="
            wd: http://www.wikidata.org/entity/
            wdt: http://www.wikidata.org/prop/direct/
            rdfs: http://www.w3.org/2000/01/rdf-schema#" data-pattern="hint:Query hint:optimizer &quot;None&quot; .">
        <div data-select="?cat" data-limit="{{ limit }}" rel="wdt:P31" resource="wd:Q146"></div>

        <a href="?cat">
          <span about="?cat" property="rdfs:label" content="?l" data-filter="lang(?l) = '{{ lang }}'">{{ l }}</span>
        </a>

        <div class="images">
          <img resource="?cat" rev="wdt:P18" src="?img" />
        </div>

        <!--div class="properties optional">
          <div rel="?p" resource="?o" data-filter="!isLiteral(?o)">{{ p }} {{ o }}</div>
        </div-->
      </div>
    </template>
  </ld-rdfa>
</body>

</html>